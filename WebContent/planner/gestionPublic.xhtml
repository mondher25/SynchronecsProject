<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


<ui:composition template="templates/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">



	<ui:define name="option">
<!-- 			<h1 style=" font-size: 25px; color:black;border-bottom:1px solid purple; "><span style="background-color: purple;color:#FFF;">Tache</span></h1>
 -->
	<div class=" TexAlCenter">
		


			 


				
			 




<!-- 				
	 
<h:form id="form">
<p:growl id="ms" showDetail="true" />
					<p:dataTable id="tab2" var="tac"
						value="#{gestionBean.listeAllTache()}" editable="true" selection="#{gestionBean.selectedTache}" >


						<p:ajax event="rowEdit" listener="#{gestionBean.onRowEditTache}" />
						<p:ajax event="rowEditCancel"	listener="#{gestionBean.onRowCancelTache}" />

						<p:column headerText="date de debut">
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{tac.dateDebut}" />
								</f:facet>
								<f:facet name="input">
									<p:calendar id="dateD" value="#{tac.dateDebut}" />
								</f:facet>
							</p:cellEditor>
						</p:column>

						<p:column headerText="date d'echeance">
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{tac.dateEcheance}" />
								</f:facet>
								<f:facet name="input">
									<p:calendar id="dateE" value="#{tac.dateEcheance}" />
								</f:facet>
							</p:cellEditor>
						</p:column>

 						<p:column headerText="etat">
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{tac.etat}" />
								</f:facet>
								<f:facet name="input">
							<p:selectOneMenu id="console" value="#{tac.etat}" style="width:125px">
							            <f:selectItem itemLabel="non-commencé" itemValue="non-commencé" />
							            <f:selectItem itemLabel="en cours" itemValue="en cours" />
							            <f:selectItem itemLabel="terminé" itemValue="Terminé" />
							   </p:selectOneMenu>
								</f:facet>
							</p:cellEditor>
						</p:column>  

						<p:column headerText="description">
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{tac.description}" />
								</f:facet>
								<f:facet name="input">
									<p:inputText id="desc" value="#{tac.description}" />
								</f:facet>
							</p:cellEditor>
						</p:column>

						<p:column style="width:32px">
							<p:rowEditor />
						</p:column>

						<p:column headerText="Supprimer">
							<p:commandButton value="supprimer"
								action="#{gestionBean.supprimer}">
								<p:confirm header="Confirmation"
									message="Voulez-vous vraiment supprimer cette tache"
									icon="ui-icon-alert" />
								<f:setPropertyActionListener
									target="#{gestionBean.deletedTache}" value="#{ges}" />
							</p:commandButton>
							<p:confirmDialog global="true" showEffect="fade"
								hideEffect="fade">
								<p:commandButton value="Oui" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
								<p:commandButton value="Annuler" type="button"
									styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
							</p:confirmDialog>
						</p:column>
					</p:dataTable>
</h:form>
 -->
 








					     
                                <div class="EmptyBox10"></div>
              						<p:dataTable  id="tacheTable" style="border:none;" var="varTache" value="#{gestionBean.listeAllTache()}">              						
          							    	        <f:facet name="header">
												            Tache
												        </f:facet>
												         <p:column style="border:none;" headerText="Nom du Tache">
 									    	 <h:outputText  value="#{varTache.nomTache}" /> 
 									    </p:column>	
          							    	  
   									    <p:column style="border:none;"  headerText="Date de Debut ">
							                   <h:outputText value="#{varTache.dateDebut}" />
							  			 </p:column>
										 
									  <p:column style="border:none;" headerText="Date d'echeance">									  	
							                 <h:outputText value="#{varTache.dateEcheance}" /> 									                
									  </p:column>
									       
									    <p:column style="border:none;" headerText="Etat du Tache">
 							                <h:outputText value="#{varTache.etat}" /> 												 
 									    </p:column>
									 
									   
									    
									     
 					 
 
									    <p:column style="border:none;">
									     <p:commandButton icon="ui-icon-pencil"   style="background-color:green;" oncomplete="PF('diagModifTa').show();" update="diagModifTa" >
										            	<f:setPropertyActionListener value="#{varTache}" target="#{gestionBean.seleTache}"/>
										            </p:commandButton>
									         <p:commandButton  icon="ui-icon-trash" action="#{gestionBean.supprimer}" update="tacheTable"  style="background-color:red;"  >
    									           <p:confirm header="Confirmation" message="Voulez-vous vraiment supprimer cette tache" icon="ui-icon-alert"  />
  											     <f:setPropertyActionListener target="#{gestionBean.deletedTache}" value="#{varTache}"/>
										     </p:commandButton>	
 										     <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
									             <p:commandButton value="Oui" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"    />
									           <p:commandButton value="Annuler" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
									         </p:confirmDialog>  
									    </p:column>
 
									</p:dataTable>
                                 <div class="EmptyBox10"></div>
                               



 </div>
  <div class=" TexAlCenter">


			

	 




	 



					 
<!-- 					 <h:form id="formc">
						<p:growl id="msgs" showDetail="true" />

						<p:dataTable id="tab1" var="cm"
							value="#{gestionBean.listeAllCompartiment()}" editable="true"
							selectionMode="single" rowKey="#{cm.id}"
							selection="#{gestionBean.seleComp}">


							<p:ajax event="rowEdit" listener="#{gestionBean.onRowEdit}" />
							<p:ajax event="rowEditCancel"
								listener="#{gestionBean.onRowCancel}" />



							<p:column headerText="nom Compartiment">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{cm.nomCompartiment}" />
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{cm.nomCompartiment}" style="width:70%"
											label="nomCom" />
									</f:facet>
								</p:cellEditor>
							</p:column>

							<p:column headerText="Modifier">
								<p:rowEditor />
							</p:column>


							<p:column headerText="Supprimer">
								<p:commandButton value="supprimer"
									action="#{gestionBean.supprimerCom}">
									<p:confirm header="Confirmation"
										message="Voulez-vous vraiment supprimer cette Compartiment"
										icon="ui-icon-alert" />
									<f:setPropertyActionListener
										target="#{gestionBean.deletedCompartiment}" value="#{cm}" />
								</p:commandButton>
								<p:confirmDialog global="true" showEffect="fade"
									hideEffect="fade">
									<p:commandButton value="Oui" type="button"
										styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
									<p:commandButton value="Annuler" type="button"
										styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
								</p:confirmDialog>
							</p:column>

						</p:dataTable>
				 </h:form>


 -->











				                   
              	<p:dataTable id="compTable" style="border:none;" var="cm" value="#{gestionBean.listeAllCompartiment()}"   >
 											 <f:facet name="header">
												 Compartiment
											 </f:facet>
									    <p:column style="border:none;" headerText="nom du Compartiment">
									 
									     
									    	 <h:outputText value="#{cm.nomCompartiment}" /> 
              								
							 
									         
									    </p:column>
									     
										       
									    <p:column style="border:none;" headerText="Action">
									    <p:commandButton icon="ui-icon-pencil"  oncomplete="PF('diagModifCm').show();" update="diagModifCm" style="background-color:green;" >
										            	<f:setPropertyActionListener value="#{cm}" target="#{gestionBean.seleComp}"/>
										            </p:commandButton>
									         <p:commandButton  icon="ui-icon-trash" action="#{gestionBean.supprimerCom}" update="compTable" style="background-color:red;" >
    									           <p:confirm header="Confirmation" message="Voulez-vous vraiment supprimer cette Compartiment" icon="ui-icon-alert"  />
  											     <f:setPropertyActionListener target="#{gestionBean.deletedCompartiment}" value="#{cm}"/>
										     </p:commandButton>	
 										     <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
									             <p:commandButton value="Oui" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"   />
									           <p:commandButton value="Annuler" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
									         </p:confirmDialog>  
									    </p:column>
									            
									</p:dataTable>  
					 



				 





		
</div>


 			 
 <div class=" TexAlCenter">
			 


					 
					

					
					
					<p:dataTable id="plannerTable" style="border:none;" var="pla" value="#{gestionBean.listeAllPlanner()}" >
 								<f:facet name="header">
									Planner
								</f:facet>
						<p:column style="border:none;"  headerText="Nom du Planner">
							<h:outputText value="#{pla.namePlanner}" />
						</p:column>

						<p:column style="border:none; "  headerText="Type de Planner">
							<h:outputText value="#{pla.type}" />
						</p:column>

						<p:column style="border:none; "  headerText="Action">
						<p:commandButton icon="ui-icon-pencil"
								oncomplete="PF('diagModifPl').show();" update="diagModifPl" style="background-color:green;">
								<f:setPropertyActionListener value="#{pla}"
									target="#{gestionBean.selectedPlanner}" />
							</p:commandButton>
							<p:commandButton action="#{gestionBean.supprimerPlanner}"
								icon="ui-icon-trash" update="plannerTable"  style="background-color:red;">
								<p:confirm header="Confirmation"
									message="Voulez-vous vraiment supprimer cette Planner"
									icon="ui-icon-alert" />
								<f:setPropertyActionListener
									target="#{gestionBean.deletedPlanner}" value="#{pla}" />
							</p:commandButton>
							<p:confirmDialog global="true" showEffect="fade"
								hideEffect="fade">
								<p:commandButton value="Oui" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
								<p:commandButton value="Annuler" type="button"
									styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
							</p:confirmDialog>
						</p:column>

					</p:dataTable>
					<div class="EmptyBox10"></div>

		</div>
		
			
			
			
		<!-- BOITE DE DIALOGUE MODIFEIR COMPARTIMENT -->
					
			<p:dialog id="diagModifCm" widgetVar="diagModifCm"   modal="true" >	
			 	  
				<h:form id="formModifCm">				 
				 <h:panelGrid id="eventCm" columns="3">						    
						    <p:outputLabel for="nomC" value="Nom Compartiment:" />
 			        	 	<p:inputText id="nomC" value="#{gestionBean.seleComp.nomCompartiment}"  />
			        	 	
			    <p:commandButton value="Valider" actionListener="#{gestionBean.updateCom}"  onsuccess="PF('diagModifCm').hide();"  process="formModifCm" update="compTable"  />
					  </h:panelGrid>   
				</h:form>	
				 
			</p:dialog>
			
		<!-- END BOITE DE DIALOGUE MODIFEIR COMPARTIMENT -->
		
		
		
			
	
			<!-- BOITE DE DIALOGUE MODIFEIR PLANNER -->
						
			<p:dialog id="diagModifPl" widgetVar="diagModifPl"   modal="true" >			 
				<h:form id="formModifPl">				 
				 <h:panelGrid id="eventPl" columns="4">						    
						    <p:outputLabel for="plan" value="Nom Planner" />						     
			        	 	<p:inputText id="plan" value="#{gestionBean.selectedPlanner.namePlanner}"    />
			  <p:selectOneMenu id="typ"   value="#{gestionBean.selectedPlanner.type}"  >
					 <f:selectItem itemLabel="Activité" itemValue="Activité" />
				 <f:selectItem itemLabel="Projet" itemValue="Projet" />
				<f:selectItem itemLabel="Evenement" itemValue="Evenement" />												            
			 </p:selectOneMenu> 
			        	 	
			    <p:commandButton value="Valider" update="plannerTable"  actionListener="#{gestionBean.updatePlanner}"  onsuccess="PF('diagModifPl').hide();"  process="formModifPl"  />
					  </h:panelGrid>   
				</h:form>	
			</p:dialog>
			
		<!-- END BOITE DE DIALOGUE MODIFEIR PLANNER -->		
			
	
	
				<!-- BOITE DE DIALOGUE MODIFEIR TACHE -->
						
			<p:dialog id="diagModifTa" widgetVar="diagModifTa"   modal="true" >			 
				<h:form id="formModifTa">				 
				 <h:panelGrid id="eventTa" columns="2">						    
						    <p:outputLabel for="dated" value="date de debut" />						     
			        	 	<p:calendar id="dated" value="#{gestionBean.seleTache.dateDebut}"  />
			        	 	
			        	 	<p:outputLabel for="datee" value="date d'echeance" />						     
			        	 	<p:calendar id="datee" value="#{gestionBean.seleTache.dateEcheance}"  />
			        	 	
			        	 	<p:outputLabel for="descrp" value="Description" />						     
			        	 	<p:inputTextarea rows="6" cols="30" id="descrp" value="#{gestionBean.seleTache.description}"  />
			        	 	<p:outputLabel for="etat" value="etat " />
			  <p:selectOneMenu id="etat"   value="#{gestionBean.seleTache.etat}"  >
							            <f:selectItem itemLabel="non-commencé" itemValue="non-commencé" />
							            <f:selectItem itemLabel="en-cours" itemValue="en-cours" />
							            <f:selectItem itemLabel="Terminé" itemValue="terminé" />											            
			 </p:selectOneMenu> 
			        	 	
			    <p:commandButton value="Valider"   actionListener="#{gestionBean.updateTache}"  onsuccess="PF('diagModifTa').hide();" update="tacheTable"  process="formModifTa"  />
					  </h:panelGrid>   
				</h:form>	
			</p:dialog>
	
			
	<h:form id="formPlanner"> </h:form>
	</ui:define>
</ui:composition>







</html>